<head>
  <title>Sink or Submit!</title>
</head>

<body>
	<div class="login">
		{{> loginButtons}}
	</div>
	<div class="wrapper">
		
		<h1>Sink or Submit!</h1>

		<div class="user">
			<div class="userdata">
				{{#if currentUser}}
				<h1>{{currentUser.username}} ({{userScore}})</h1>
				{{> trophy}}

				<br />

				{{> statUpdate}}
				{{> userStats}}
				{{else}}
				<h1>You must be logged in to use this feature</h1>
				{{/if}}
			</div>
		</div>
		<div class="leaderboard">
				{{> leaderboard}}
		</div>

		<div class="clear"></div>
		<div class="notice">
			<p>
				Sink or Submit is based on a game invented by <a href="https://twitter.com/rachaelkjones" target="_blank">@rachaelkjones</a> and given minor internet notoriety by 
				<a href="https://twitter.com/ghostwritingcow" target="_blank">@ghostwritingcow</a>.
				<br />
				It was developed by <a href="https://twitter.com/hbbisenieks" target="_blank">@HBBisenieks</a>.
			</p>
			<p>
				Sink or Submit is released under an MIT license. The source code is available on <a href="https://github.com/hbbisenieks/submissions-game/" target="_blank">GitHub</a>. Fork it!
			</p>
		</div>
	</div>
</body>

<template name="statUpdate">
	<button class="subPlus">S +</button>
	<button class="rejPlus">R +</button>
	<button class="accPlus">A +</button>
	<button class="wdPlus">W +</button>
	<br />
	<button class="subMinus">S -</button>
	<button class="rejMinus">R -</button>
	<button class="accMinus">A -</button>
	<button class="wdMinus">W -</button>
</template>

<template name="trophy">
	{{#if leading}}
		<img src='trophy.png' alt='Current Leader!' height='40%' width='40%' />
	{{/if}}
</template>

<template name="userStats">
	<p>Stats</p>
	<ul>
		<li>Submissions: {{userSubs}}</li>
		<li>Rejections: {{userRejections}}</li>
		<li>Acceptances: {{userAccept}}</li>
		<li>Withdrawals: {{userWithdraw}}</li>
	</ul>
	<p>Score: {{userScore}}</p>
</template>

<template name="leaderboard">
	<h1>Leaderboard</h1>
	<div class="clear"></div>
	<div class="score">
			{{#each writer}}
			<p>{{score}}</p>
			{{/each}}
	</div>
	<div class="stats">
			{{#each writer}}
			<p>{{subs}}/{{rejs}}/{{accs}}/{{wds}}</p>
			{{/each}}
	</div>
	<div class="name">
			{{#each writer}}
			<p>{{username}}</p>
			{{/each}}
	</div>
</template>
